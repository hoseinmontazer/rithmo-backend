{
  "info": {
    "name": "Rithmo API - Notifications & Messaging",
    "description": "Notification management and partner messaging endpoints",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_postman_id": "generated-20251217-173653",
    "version": "1.0.0"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{access_token}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "base_url",
      "value": "https://api.rithmo.ir",
      "type": "string",
      "description": "Base URL for the API"
    },
    {
      "key": "access_token",
      "value": "",
      "type": "string",
      "description": "JWT access token (auto-populated after login)"
    },
    {
      "key": "refresh_token",
      "value": "",
      "type": "string",
      "description": "JWT refresh token (auto-populated after login)"
    },
    {
      "key": "user_id",
      "value": "",
      "type": "string",
      "description": "Current user ID (set manually if needed)"
    },
    {
      "key": "partner_id",
      "value": "",
      "type": "string",
      "description": "Partner user ID (set manually for partner operations)"
    }
  ],
  "item": [
    {
      "name": "Notifications Management",
      "item": [
        {
          "name": "List All Notifications",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/notifications/notifications/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                "notifications",
                ""
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}",
                  "type": "string"
                }
              ]
            },
            "description": "Get all notifications for user"
          }
        },
        {
          "name": "Get Unread Notifications",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/notifications/notifications/unread/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                "notifications",
                "unread",
                ""
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}",
                  "type": "string"
                }
              ]
            },
            "description": "Get only unread notifications with count"
          }
        },
        {
          "name": "Create Notification",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/notifications/notifications/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                "notifications",
                ""
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}",
                  "type": "string"
                }
              ]
            },
            "description": "Create a new notification",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"notification_type\": \"system\",\n  \"title\": \"Test Notification\",\n  \"message\": \"This is a test notification\"\n}"
            }
          }
        },
        {
          "name": "Get Specific Notification",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/notifications/notifications/1/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                "notifications",
                "1",
                ""
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}",
                  "type": "string"
                }
              ]
            },
            "description": "Get details of specific notification"
          }
        },
        {
          "name": "Mark Notification as Read",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/notifications/notifications/1/mark_read/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                "notifications",
                "1",
                "mark_read",
                ""
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}",
                  "type": "string"
                }
              ]
            },
            "description": "Mark specific notification as read"
          }
        },
        {
          "name": "Mark All Notifications as Read",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/notifications/notifications/mark_all_read/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                "notifications",
                "mark_all_read",
                ""
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}",
                  "type": "string"
                }
              ]
            },
            "description": "Mark all notifications as read"
          }
        },
        {
          "name": "Update Notification",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/notifications/notifications/1/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                "notifications",
                "1",
                ""
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}",
                  "type": "string"
                }
              ]
            },
            "description": "Update notification",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Updated Notification\",\n  \"message\": \"Updated message\"\n}"
            }
          }
        },
        {
          "name": "Delete Notification",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/notifications/notifications/1/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                "notifications",
                "1",
                ""
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}",
                  "type": "string"
                }
              ]
            },
            "description": "Delete notification"
          }
        }
      ]
    },
    {
      "name": "Partner Messaging",
      "item": [
        {
          "name": "List All Messages",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/notifications/messages/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                "messages",
                ""
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}",
                  "type": "string"
                }
              ]
            },
            "description": "Get all partner messages"
          }
        },
        {
          "name": "Send Message to Partner",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/notifications/messages/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                "messages",
                ""
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}",
                  "type": "string"
                }
              ]
            },
            "description": "Send message to partner",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"receiver\": \"{{partner_id}}\",\n  \"message\": \"How are you feeling today? \\ud83d\\udc95\"\n}"
            }
          }
        },
        {
          "name": "Get Conversation with Partner",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/notifications/messages/conversation/?partner_id={{partner_id}}",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                "messages",
                "conversation",
                ""
              ],
              "query": [
                {
                  "key": "partner_id",
                  "value": "{{partner_id}}"
                }
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}",
                  "type": "string"
                }
              ]
            },
            "description": "Get conversation history with specific partner"
          }
        },
        {
          "name": "Get Unread Messages",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/notifications/messages/unread/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                "messages",
                "unread",
                ""
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}",
                  "type": "string"
                }
              ]
            },
            "description": "Get unread messages with count"
          }
        },
        {
          "name": "Get Specific Message",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/notifications/messages/1/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                "messages",
                "1",
                ""
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}",
                  "type": "string"
                }
              ]
            },
            "description": "Get specific message details"
          }
        },
        {
          "name": "Update Message",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/notifications/messages/1/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                "messages",
                "1",
                ""
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}",
                  "type": "string"
                }
              ]
            },
            "description": "Update message content",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"Updated message content\"\n}"
            }
          }
        },
        {
          "name": "Delete Message",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/notifications/messages/1/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                "messages",
                "1",
                ""
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}",
                  "type": "string"
                }
              ]
            },
            "description": "Delete message"
          }
        }
      ]
    },
    {
      "name": "Notification Preferences",
      "item": [
        {
          "name": "Get Notification Preferences",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/notifications/preferences/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                "preferences",
                ""
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}",
                  "type": "string"
                }
              ]
            },
            "description": "Get user's notification preferences"
          }
        },
        {
          "name": "Update Preferences (POST)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/notifications/preferences/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                "preferences",
                ""
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}",
                  "type": "string"
                }
              ]
            },
            "description": "Create or update notification preferences",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email_period_reminder\": true,\n  \"email_ovulation\": true,\n  \"email_partner_message\": true,\n  \"email_wellness_reminder\": false,\n  \"push_period_reminder\": true,\n  \"push_ovulation\": true,\n  \"push_partner_message\": true,\n  \"push_wellness_reminder\": true,\n  \"inapp_period_reminder\": true,\n  \"inapp_ovulation\": true,\n  \"inapp_partner_message\": true,\n  \"inapp_wellness_reminder\": true,\n  \"reminder_days_before\": 2,\n  \"reminder_time\": \"09:00:00\"\n}"
            }
          }
        },
        {
          "name": "Update Preferences (PUT)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/notifications/preferences/update_preferences/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                "preferences",
                "update_preferences",
                ""
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}",
                  "type": "string"
                }
              ]
            },
            "description": "Update notification preferences using PUT method",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"push_period_reminder\": false,\n  \"reminder_days_before\": 3,\n  \"reminder_time\": \"08:00:00\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Push Notification Tokens",
      "item": [
        {
          "name": "List Push Tokens",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/notifications/push-tokens/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                "push-tokens",
                ""
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}",
                  "type": "string"
                }
              ]
            },
            "description": "Get all registered push tokens for user"
          }
        },
        {
          "name": "Register Push Token",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/notifications/push-tokens/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                "push-tokens",
                ""
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}",
                  "type": "string"
                }
              ]
            },
            "description": "Register new push notification token",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"device_type\": \"android\",\n  \"token\": \"ExponentPushToken[xxxxxxxxxxxxxxxxxxxxxx]\"\n}"
            }
          }
        },
        {
          "name": "Register iOS Push Token",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/notifications/push-tokens/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                "push-tokens",
                ""
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}",
                  "type": "string"
                }
              ]
            },
            "description": "Register iOS push notification token",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"device_type\": \"ios\",\n  \"token\": \"ios_device_token_here\"\n}"
            }
          }
        },
        {
          "name": "Register Web Push Token",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/notifications/push-tokens/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                "push-tokens",
                ""
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}",
                  "type": "string"
                }
              ]
            },
            "description": "Register web push notification token",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"device_type\": \"web\",\n  \"token\": \"web_push_token_here\"\n}"
            }
          }
        },
        {
          "name": "Get Specific Push Token",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/notifications/push-tokens/1/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                "push-tokens",
                "1",
                ""
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}",
                  "type": "string"
                }
              ]
            },
            "description": "Get specific push token details"
          }
        },
        {
          "name": "Update Push Token",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/notifications/push-tokens/1/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                "push-tokens",
                "1",
                ""
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}",
                  "type": "string"
                }
              ]
            },
            "description": "Update push token",
            "body": {
              "mode": "raw",
              "raw": "{\n  \"token\": \"updated_token_here\",\n  \"is_active\": true\n}"
            }
          }
        },
        {
          "name": "Delete Push Token",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/notifications/push-tokens/1/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                "push-tokens",
                "1",
                ""
              ]
            },
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{access_token}}",
                  "type": "string"
                }
              ]
            },
            "description": "Delete push token"
          }
        }
      ]
    }
  ]
}